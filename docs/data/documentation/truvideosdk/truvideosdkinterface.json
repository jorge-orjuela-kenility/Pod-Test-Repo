{"hierarchy":{"paths":[["doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk"]]},"sections":[],"kind":"symbol","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/truvideosdk\/truvideosdkinterface"]}],"metadata":{"role":"symbol","navigatorTitle":[{"text":"TruvideoSdkInterface","kind":"identifier"}],"modules":[{"name":"TruvideoSdk"}],"symbolKind":"protocol","roleHeading":"Protocol","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"text":"TruvideoSdkInterface","kind":"identifier"}],"title":"TruvideoSdkInterface","externalID":"s:11TruvideoSdk0aB9InterfaceP"},"schemaVersion":{"patch":0,"major":0,"minor":3},"abstract":[{"text":"A foundational interface for the TruVideo SDK, enabling secure and efficient","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"authentication flows for applications integrating with the TruVideo platform."}],"identifier":{"url":"doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface","interfaceLanguage":"swift"},"topicSections":[{"generated":true,"title":"Instance Methods","anchor":"Instance-Methods","identifiers":["doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/apiKey()","doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/authenticate(apiKey:payload:signature:externalId:)-1mugk","doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/clearAuthentication()","doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/generatePayload()","doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/initAuthentication()","doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/isAuthenticated()","doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/isAuthenticationExpired()"]}],"primaryContentSections":[{"declarations":[{"languages":["swift"],"tokens":[{"text":"protocol","kind":"keyword"},{"kind":"text","text":" "},{"text":"TruvideoSdkInterface","kind":"identifier"}],"platforms":["iOS"]}],"kind":"declarations"},{"kind":"content","content":[{"level":2,"type":"heading","anchor":"overview","text":"Overview"},{"inlineContent":[{"type":"text","text":"The "},{"code":"TruvideoSdkInterface","type":"codeVoice"},{"type":"text","text":" protocol provides essential methods for managing API keys,"},{"text":" ","type":"text"},{"type":"text","text":"verifying authentication status, checking for session expiration, and handling"},{"type":"text","text":" "},{"type":"text","text":"reauthentication workflows. Implementing this protocol ensures that your application"},{"type":"text","text":" "},{"type":"text","text":"interacts with TruVideo services in a secure, consistent, and reliable manner."}],"type":"paragraph"},{"text":"Authentication Overview","anchor":"Authentication-Overview","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"This protocol facilitates a robust authentication system by offering methods to:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Retrieve the API Key Securely","type":"text"}],"type":"strong"},{"text":": Access the API key required for authenticated requests.","type":"text"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"text":"Verify Authentication Status","type":"text"}],"type":"strong"},{"type":"text","text":": Determine if a user currently has an active session."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Check Session Expiration","type":"text"}]},{"text":": Identify if an authentication session has expired and needs renewal.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Manage Reauthentication"}]},{"type":"text","text":": Reinitialize authentication seamlessly when necessary."}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"By centralizing these authentication tasks, developers can maintain a secure and seamless"},{"type":"text","text":" "},{"text":"user experience, ensuring that sensitive operations are performed only when appropriate.","type":"text"}],"type":"paragraph"},{"level":2,"text":"Use Cases","type":"heading","anchor":"Use-Cases"},{"type":"paragraph","inlineContent":[{"text":"Typical scenarios where this protocol is essential include:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Secure API Requests","type":"text"}],"type":"strong"},{"type":"text","text":": Ensuring that only authenticated users can make API calls."}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Session Management","type":"text"}]},{"type":"text","text":": Automatically checking and refreshing expired sessions."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"User Logout"}]},{"type":"text","text":": Clearing authentication data when a user logs out."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Multi-Device Support"}],"type":"strong"},{"type":"text","text":": Handling authentication across multiple devices or platforms."}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"heading","text":"Generating Signature for Authentication","anchor":"Generating-Signature-for-Authentication","level":2},{"inlineContent":[{"text":"To authenticate requests, the TruVideo SDK requires a payload signed with a secure key.","type":"text"},{"text":" ","type":"text"},{"text":"The signature ensures data integrity and verifies the authenticity of the request.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Below is an example of how to generate an HMAC-SHA256 signature for your payload:"}],"type":"paragraph"},{"type":"codeListing","code":["import Foundation","import CommonCrypto","","extension String {","    \/\/\/ Generates an HMAC-SHA256 signature using the provided secret key.","    \/\/\/","    \/\/\/ - Parameter key: The secret key used to generate the signature.","    \/\/\/ - Returns: A hexadecimal string representing the HMAC-SHA256 signature.","    func toHMACSHA256(using key: String) -> String {","        let data = Data(self.utf8)","        let keyData = Data(key.utf8)","        var macData = Data(count: Int(CC_SHA256_DIGEST_LENGTH))","","        macData.withUnsafeMutableBytes { macBytes in","            data.withUnsafeBytes { dataBytes in","                keyData.withUnsafeBytes { keyBytes in","                    CCHmac(","                        CCHmacAlgorithm(kCCHmacAlgSHA256),","                        keyBytes.baseAddress,","                        keyData.count,","                        dataBytes.baseAddress,","                        data.count,","                        macBytes.baseAddress","                    )","                }","            }","        }","","        return macData.map { String(format: \"%02hhx\", $0) }.joined()","    }","}"],"syntax":"swift"},{"anchor":"Security-Best-Practices","level":2,"text":"Security Best Practices","type":"heading"},{"inlineContent":[{"type":"emphasis","inlineContent":[{"type":"text","text":"Important:"}]},{"text":" To maximize security, ","type":"text"},{"type":"strong","inlineContent":[{"text":"never store the secret key within your application","type":"text"}]},{"type":"text","text":"."},{"type":"text","text":" "},{"text":"Instead, implement a secure backend service that generates the signed payload on your behalf.","type":"text"},{"type":"text","text":" "},{"text":"This approach prevents exposure of the secret key and significantly reduces the risk of unauthorized access.","type":"text"}],"type":"paragraph"},{"anchor":"Examples","level":3,"text":"Examples","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Retrieve API Key"}]}]},{"inlineContent":[{"text":"Retrieve the current API key required for making authenticated requests with the SDK.","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let apiKey = try TruvideoSdk.apiKey()"]},{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Authenticate a Request"}],"type":"strong"}]},{"inlineContent":[{"text":"Perform authentication by providing the API key, payload, signature, and optionally, an external ID. This establishes a secure session within the SDK.","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["try await TruvideoSdk.authenticate(","    apiKey: \"yourApiKey\",","    payload: \"yourPayload\",","    signature: \"yourSignature\",","    externalId: \"optionalExternalId\"",")"]},{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Authentication Status","type":"text"}],"type":"strong"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Check the client’s authentication status to verify session validity:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"isAuthenticated()"},{"type":"text","text":": Returns "},{"type":"codeVoice","code":"true"},{"text":" if the client is authenticated; otherwise, ","type":"text"},{"type":"codeVoice","code":"false"},{"text":". Note that a session may be authenticated but still expired.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"isAuthenticationExpired()","type":"codeVoice"},{"text":": Returns ","type":"text"},{"type":"codeVoice","code":"true"},{"text":" if the session has expired; otherwise, ","type":"text"},{"code":"false","type":"codeVoice"},{"text":". If the client is not authenticated, it always returns ","type":"text"},{"type":"codeVoice","code":"false"},{"text":".","type":"text"}],"type":"paragraph"}]}]},{"code":["let isAuthenticated = try TruvideoSdk.isAuthenticated()","let isAuthenticationExpired = try TruvideoSdk.isAuthenticationExpired()"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Clear Authentication","type":"text"}]}]},{"inlineContent":[{"type":"text","text":"Delete the current session and erase all associated authentication data, effectively logging the user out of the SDK."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["try TruvideoSdk.clearAuthentication()"]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Generate Payload","type":"text"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a new authentication payload containing device-specific information for secure requests."}]},{"syntax":"swift","type":"codeListing","code":["let payload = try TruvideoSdk.generatePayload()"]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Reinitialize Authentication","type":"text"}]}]},{"type":"paragraph","inlineContent":[{"text":"Reset the SDK’s authentication state, typically used when tokens have expired, to prepare for reauthentication.","type":"text"}]},{"code":["try await TruvideoSdk.initAuthentication()"],"type":"codeListing","syntax":"swift"}]}],"references":{"doc://com.truvideo.TruvideoSdk/documentation/TruvideoSdk/TruvideoSdkInterface/initAuthentication()":{"url":"\/documentation\/truvideosdk\/truvideosdkinterface\/initauthentication()","kind":"symbol","type":"topic","abstract":[{"type":"text","text":"Reinitializes the authentication process, often used when tokens have expired."}],"required":true,"title":"initAuthentication()","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"initAuthentication","kind":"identifier"},{"text":"() ","kind":"text"},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"}],"identifier":"doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/initAuthentication()","role":"symbol"},"doc://com.truvideo.TruvideoSdk/documentation/TruvideoSdk/TruvideoSdkInterface/apiKey()":{"identifier":"doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/apiKey()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"apiKey"},{"kind":"text","text":"() "},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"}],"title":"apiKey()","type":"topic","abstract":[{"text":"Retrieves the API key used for SDK authentication.","type":"text"}],"role":"symbol","kind":"symbol","url":"\/documentation\/truvideosdk\/truvideosdkinterface\/apikey()","required":true},"doc://com.truvideo.TruvideoSdk/documentation/TruvideoSdk/TruvideoSdkInterface/clearAuthentication()":{"required":true,"identifier":"doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/clearAuthentication()","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"clearAuthentication"},{"kind":"text","text":"() "},{"kind":"keyword","text":"throws"}],"kind":"symbol","role":"symbol","url":"\/documentation\/truvideosdk\/truvideosdkinterface\/clearauthentication()","abstract":[{"text":"Clears all stored authentication credentials.","type":"text"}],"type":"topic","title":"clearAuthentication()"},"doc://com.truvideo.TruvideoSdk/documentation/TruvideoSdk/TruvideoSdkInterface/isAuthenticationExpired()":{"identifier":"doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/isAuthenticationExpired()","required":true,"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"isAuthenticationExpired"},{"text":"() ","kind":"text"},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"}],"url":"\/documentation\/truvideosdk\/truvideosdkinterface\/isauthenticationexpired()","role":"symbol","kind":"symbol","abstract":[{"type":"text","text":"Determines whether the current authentication session has expired."}],"type":"topic","title":"isAuthenticationExpired()"},"doc://com.truvideo.TruvideoSdk/documentation/TruvideoSdk/TruvideoSdkInterface/generatePayload()":{"url":"\/documentation\/truvideosdk\/truvideosdkinterface\/generatepayload()","identifier":"doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/generatePayload()","title":"generatePayload()","required":true,"fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"generatePayload","kind":"identifier"},{"text":"() ","kind":"text"},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"}],"abstract":[{"type":"text","text":"Generates a new authentication payload containing device-specific information."}],"type":"topic","kind":"symbol","role":"symbol"},"doc://com.truvideo.TruvideoSdk/documentation/TruvideoSdk/TruvideoSdkInterface/authenticate(apiKey:payload:signature:externalId:)-1mugk":{"role":"symbol","required":true,"type":"topic","url":"\/documentation\/truvideosdk\/truvideosdkinterface\/authenticate(apikey:payload:signature:externalid:)-1mugk","title":"authenticate(apiKey:payload:signature:externalId:)","identifier":"doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/authenticate(apiKey:payload:signature:externalId:)-1mugk","defaultImplementations":1,"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"authenticate"},{"kind":"text","text":"("},{"kind":"externalParam","text":"apiKey"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"text":", ","kind":"text"},{"text":"payload","kind":"externalParam"},{"kind":"text","text":": "},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"signature"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"kind":"text","text":", "},{"text":"externalId","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":") "},{"text":"async","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}],"kind":"symbol","abstract":[{"text":"Authenticates a request using the specified API key, payload, signature, and an optional external ID.","type":"text"}]},"doc://com.truvideo.TruvideoSdk/documentation/TruvideoSdk/TruvideoSdkInterface/isAuthenticated()":{"url":"\/documentation\/truvideosdk\/truvideosdkinterface\/isauthenticated()","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"isAuthenticated","kind":"identifier"},{"kind":"text","text":"() "},{"text":"throws","kind":"keyword"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sb","text":"Bool"}],"abstract":[{"type":"text","text":"Verifies whether the SDK currently has an active, authenticated session."}],"kind":"symbol","type":"topic","required":true,"identifier":"doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface\/isAuthenticated()","title":"isAuthenticated()","role":"symbol"},"doc://com.truvideo.TruvideoSdk/documentation/TruvideoSdk":{"kind":"symbol","abstract":[],"title":"TruvideoSdk","identifier":"doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk","url":"\/documentation\/truvideosdk","type":"topic","role":"collection"},"doc://com.truvideo.TruvideoSdk/documentation/TruvideoSdk/TruvideoSdkInterface":{"title":"TruvideoSdkInterface","type":"topic","navigatorTitle":[{"text":"TruvideoSdkInterface","kind":"identifier"}],"role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"kind":"identifier","text":"TruvideoSdkInterface"}],"url":"\/documentation\/truvideosdk\/truvideosdkinterface","kind":"symbol","abstract":[{"type":"text","text":"A foundational interface for the TruVideo SDK, enabling secure and efficient"},{"type":"text","text":" "},{"type":"text","text":"authentication flows for applications integrating with the TruVideo platform."}],"identifier":"doc:\/\/com.truvideo.TruvideoSdk\/documentation\/TruvideoSdk\/TruvideoSdkInterface"}}}